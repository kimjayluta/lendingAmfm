$(document).ready(function(){var i={};i.defaultHelp=$("#unHelp").text(),i.changeStatus=function(e){var a,t,s,l;return s=(t=(a=$("#registerUser")).parent()).find("label"),l=t.find("small"),"EMPTY"===e||"CHECKING"===e?(s.removeAttr("class"),a.removeClass("is-valid is-invalid"),l.removeClass("text-danger text-success"),l.addClass("text-muted"),"CHECKING"===e?void l.text("Checking `"+a.val()+"` availability. Please wait."):void l.text(i.defaultHelp)):"INVALID_USERNAME"===e||"USERNAME_EXISTS"===e||"CHECK_ERROR"===e?(s.removeAttr("class"),s.addClass("text-danger"),a.removeClass("is-valid"),a.addClass("is-invalid"),l.removeClass("text-success text-muted"),l.addClass("text-danger"),"USERNAME_EXISTS"===e?void l.text(a.val()+" already taken. Please select another."):"CHECK_ERROR"===e?void l.text("An unknown error occurs while trying to validate the availability of username. Please try again later."):void l.text(i.defaultHelp)):"VALID_USERNAME"===e?(s.removeAttr("class"),s.addClass("text-success"),a.removeClass("is-invalid"),a.addClass("is-valid"),l.removeClass("text-danger text-muted"),l.addClass("text-success"),void l.text(a.val()+" is valid and available.")):void 0};var a=function(){var e=$("#registerUser").val(),a=$.ajax({url:"/",method:"POST",data:{type:"check_un",registerUser:e}});a.done(i.changeStatus),a.fail(function(){i.changeStatus("CHECK_ERROR")})};$("#registerUser").on("keyup",function(){if($(this).val().length<1)return i.changeStatus("EMPTY"),void clearTimeout($.data(this,"timer"));i.changeStatus("CHECKING"),clearTimeout($.data(this,"timer"));var e=setTimeout(a,500);$(this).data("timer",e)}),$("#registerPass").on("keyup",function(){var e,a,t,s;return t=(a=(e=$(this)).parent()).find("label"),s=a.find("small"),e.val().length<1?(t.removeAttr("class"),e.removeClass("is-valid is-invalid"),s.removeClass("text-danger text-success"),void s.addClass("text-muted")):e.val().length<8||20<e.val().length?(t.removeAttr("class"),t.addClass("text-danger"),e.removeClass("is-valid"),e.addClass("is-invalid"),s.removeClass("text-success text-muted"),void s.addClass("text-danger")):(t.removeAttr("class"),t.addClass("text-success"),e.removeClass("is-invalid"),e.addClass("is-valid"),s.removeClass("text-danger text-muted"),void s.addClass("text-success"))});var d={};d.defaultHelp=$("#emailHelp").text(),d.changeStatus=function(e){var a,t,s,l;return s=(t=(a=$("#registerEmail")).parent()).find("label"),l=t.find("small"),"EMPTY"===e||"CHECKING"===e?(s.removeAttr("class"),a.removeClass("is-valid is-invalid"),l.removeClass("text-danger text-success"),l.addClass("text-muted"),"CHECKING"===e?void l.text("Checking `"+a.val()+"` availability. Please wait."):void l.text(d.defaultHelp)):"INVALID_EMAIL"===e||"EMAIL_EXISTS"===e||"CHECK_ERROR"===e?(s.removeAttr("class"),s.addClass("text-danger"),a.removeClass("is-valid"),a.addClass("is-invalid"),l.removeClass("text-success text-muted"),l.addClass("text-danger"),"EMAIL_EXISTS"===e?void l.text(a.val()+" was already taken. Please use another."):"CHECK_ERROR"===e?void l.text("An unknown error occurs while trying to validate the availability of username. Please try again later."):void l.text(d.defaultHelp)):"VALID_EMAIL"===e?(s.removeAttr("class"),s.addClass("text-success"),a.removeClass("is-invalid"),a.addClass("is-valid"),l.removeClass("text-danger text-muted"),l.addClass("text-success"),void l.text(a.val()+" is valid and available.")):void 0};var t=function(){var e=$("#registerEmail").val(),a=$.ajax({url:"/",method:"POST",data:{type:"check_em",registerEmail:e}});a.done(d.changeStatus),a.fail(function(){d.changeStatus("CHECK_ERROR")})};$("#registerEmail").on("keyup",function(){if($(this).val().length<1)return d.changeStatus("EMPTY"),void clearTimeout($.data(this,"timer"));d.changeStatus("CHECKING"),clearTimeout($.data(this,"timer"));var e=setTimeout(t,500);$(this).data("timer",e)})});